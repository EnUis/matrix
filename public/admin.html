<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Matrix • Admin</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Rajdhani:wght@600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="ui.css" />
  <link rel="stylesheet" href="admin.css" />
</head>

<body>
  <header class="admin-topbar">
    <div class="container inner">
      <div class="admin-brand">
        <div class="admin-title">MATRIX ADMIN</div>
        <a class="btn ghost" href="/">Leaderboard</a>
      </div>

      <div class="row" style="gap:10px; align-items:center;">
        <span id="healthPill" class="pill">Checking…</span>
        <button id="logoutBtn" class="btn danger" style="display:none;" type="button">Logout</button>
      </div>
    </div>
  </header>

  <main class="container admin-main">
    <!-- LOGIN -->
    <section id="loginView" class="login-wrap">
      <div class="card login-card">
        <div class="section-title">Login</div>
        <div class="sub">Enter the admin password to manage players.</div>

        <div class="login-row">
          <input id="pass" class="input" type="password" placeholder="Admin password" />
          <button id="loginBtn" class="btn primary" type="button">Login</button>
        </div>
        <div id="loginMsg" class="msg error"></div>
      </div>
    </section>

    <!-- PANEL -->
    <section id="panelView" style="display:none;">
      <div class="split">
        <!-- left: add -->
        <div class="card panel">
          <div class="section-title">Add player</div>
          <div class="sub">Paste FACEIT nickname or playerId.</div>

          <div class="tools">
            <input id="nick" class="input" type="text" placeholder="nickname or playerId…" />
            <button id="lookupBtn" class="btn ghost" type="button">Preview</button>
            <button id="addBtn" class="btn primary" type="button">Add</button>
          </div>

          <div id="addMsg" class="msg error"></div>
          <div id="addOk" class="msg ok"></div>

          <div class="hr"></div>

          <div id="preview" class="preview">
            <img id="prevAv" src="" alt="" />
            <div class="meta">
              <div id="prevName" class="name">Not found</div>
              <div id="prevElo" class="line">ELO: -</div>
              <div id="prevLvl" class="line">LVL: -</div>
              <div id="prevId" class="line">ID: -</div>
            </div>
          </div>

          <div class="muted" style="margin-top:10px; font-size:12.5px;">
            Tip: Use Preview to verify the right player before adding.
          </div>
        </div>

        <!-- right: list -->
        <div class="card panel">
          <div class="listHead">
            <div>
              <div class="section-title" style="margin-bottom:2px;">Players</div>
              <div id="countText" class="sub" style="margin:0;">—</div>
            </div>

            <div class="row" style="gap:10px;">
              <input id="filter" class="input" type="search" placeholder="Filter…" />
              <button id="refreshBtn" class="btn ghost" type="button">Reload</button>
            </div>
          </div>

          <div id="list" class="list"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite">
    <div id="toastTitle" class="t-title">—</div>
    <div id="toastBody" class="t-body"></div>
  </div>

  <script src="admin.js"></script>
</body>
</html>
